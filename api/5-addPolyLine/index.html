
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>添加线 - HMap.js</title>
        <meta charset="utf-8">
        <meta name="description" content="HMap WEBGIS openlayer">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link rel="icon" href="/images/logo.png" type="image/x-icon">
        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/HMap.js"></script>
        <script>window.PAGE_TYPE = "api"</script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>HMap</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/guide/2-index" class="nav-link">教程</a></li>
<li><a href="/api/1-index" class="nav-link current">API</a></li>
<li><a href="/examples/1-index/" class="nav-link">示例</a></li>
<li><a href="/about/index" class="nav-link">参与贡献</a></li>

  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    <div class="sidebar blog">
  <ul class="main-menu">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/guide/2-index" class="nav-link">教程</a></li>
<li><a href="/api/1-index" class="nav-link current">API</a></li>
<li><a href="/examples/1-index/" class="nav-link">示例</a></li>
<li><a href="/about/index" class="nav-link">参与贡献</a></li>

  </ul>
  <div class="list">
    <ul style="padding:0">
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/1-index/"
           class="sidebar-link">简单地图</a>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/2-JXMap/"
           class="sidebar-link">江西地图</a>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/3-mapSwitch/"
           class="sidebar-link">底图切换</a>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/3.1-Layer/"
           class="sidebar-link">图层</a>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/3.2-control/"
           class="sidebar-link">control</a>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/4-addPoints/"
           class="sidebar-link">添加点</a>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/5-addPolyLine/"
           class="sidebar-link current">添加线</a>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/6-addPolygons/"
           class="sidebar-link">添加面</a>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/7-CustomCIrcle/"
           class="sidebar-link">周边搜索</a>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
        <a href="/api/8-MeasureTool/"
           class="sidebar-link">测量</a>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
      
      
      
      <li>
        
      </li>
      
    </ul>
  </div>
</div>
<div class="content with-sidebar blog post">
  <h1>添加线</h1>
  <h4>Apr 25, 2017</h4>
  <h3 id="添加单线"><a href="#添加单线" class="headerlink" title="添加单线"></a>添加单线</h3><h3 id="addPolyline-line-options"><a href="#addPolyline-line-options" class="headerlink" title="addPolyline(line, options)"></a>addPolyline(line, options)</h3><ul>
<li><p><strong>参数：</strong></p>
<ul>
<li><p><code>{Object} line</code> 标准空间要素</p>
<ul>
<li><p><code>{Object} attributes</code> 属性信息，用于气泡展示等其他要素</p>
<ul>
<li><code>{String} id || ID</code> id必传</li>
</ul>
</li>
<li><p><code>{ol.geom.Geometry}</code> 空间位置信息</p>
</li>
<li><p><code>{String}</code> 要素类型</p>
</li>
</ul>
</li>
<li><p><code>{Object} options</code> 相关参数</p>
<ul>
<li><code>{String} layerName</code> 图层name</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>用法：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"addLine()"</span>&gt;</span>添加线<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> line = &#123;</div><div class="line">  <span class="string">"attributes"</span>:&#123;</div><div class="line">    <span class="string">"ID"</span>:<span class="string">"ecc9f2ba-f899-4adb-a86a-284d81bf2911"</span>,</div><div class="line">    <span class="string">"LXDM"</span>:<span class="string">"G35"</span>,</div><div class="line">    <span class="string">"LXMC"</span>:<span class="string">"济广高速"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"geometry"</span>:<span class="string">"LINESTRING (116.65963672 27.54180288, 116.65965167 27.54218, 116.65969833 27.542745, 116.65974 27.54312333, 116.65977167 27.54331, 116.65984 27.543685, 116.65991833 27.54406, 116.66001 27.54443, 116.66005833 27.544615, 116.66016333 27.54498333, 116.66028333 27.54534833, 116.660415 27.54571167, 116.66048504 27.54588757, 116.66048667 27.54589167, 116.66063667 27.54625, 116.66079667 27.54660333, 116.66088167 27.54678, 116.66105667 27.54712833, 116.66124333 27.54747167, 116.66143833 27.547815, 116.66166975 27.54821414, 116.661735 27.54832667, 116.66194 27.54866667, 116.66204167 27.54883833, 116.66224333 27.54918167, 116.66244333 27.549525, 116.66254167 27.54969667, 116.66281833 27.55022167, 116.66290333 27.55039833, 116.66306167 27.55075, 116.66313333 27.55092833, 116.663325 27.55145833, 116.663375 27.55163333, 116.66346833 27.55198167, 116.66351167 27.552155, 116.66360667 27.55267, 116.66363333 27.55284167, 116.66367667 27.55319, 116.6637 27.55354, 116.663705 27.553715, 116.66370333 27.55424333, 116.66368167 27.554595, 116.663645 27.55495, 116.66359333 27.55529833, 116.66353 27.555635, 116.66349167 27.5558, 116.663405 27.55612833, 116.663355 27.55629167, 116.66319167 27.55678, 116.66313167 27.55694167, 116.66299333 27.55726667, 116.66283833 27.55759167, 116.66275667 27.55775667, 116.66257833 27.558085, 116.66227833 27.55857, 116.66217 27.55873, 116.66183 27.55921333, 116.66159167 27.559535, 116.66135 27.55985667, 116.66122667 27.56001667, 116.660985 27.56034, 116.66075 27.56066833, 116.660525 27.56100167, 116.66041667 27.56117167, 116.66012 27.56168833, 116.66003 27.56186333, 116.65986 27.56221833, 116.65978167 27.56239667, 116.65963667 27.56275333, 116.65951667 27.56311167, 116.65940833 27.56347, 116.65932 27.56382833, 116.65921833 27.56436333, 116.65919333 27.56454, 116.65915333 27.56489333, 116.65912833 27.56524333, 116.65912833 27.56559333, 116.65914333 27.56594, 116.65915167 27.56611333, 116.659175 27.56645667, 116.65921833 27.56679667, 116.65927833 27.56713333, 116.65931333 27.56730167, 116.659395 27.56763333, 116.65949333 27.56797333, 116.65954833 27.56814333, 116.65966833 27.56848, 116.659875 27.56898167, 116.65995 27.56914833, 116.66017667 27.56964667, 116.66033333 27.56997667, 116.660485 27.57031, 116.66056333 27.57047833, 116.66079833 27.57098333, 116.66087833 27.57115167, 116.66103667 27.57149333, 116.661195 27.571835, 116.66135667 27.57218167, 116.66143833 27.572355, 116.661605 27.57270667, 116.66177167 27.57306, 116.66194167 27.57341833, 116.66202667 27.57359833, 116.662275 27.57414333, 116.66236333 27.574325, 116.662535 27.57469167, 116.66270667 27.57505667, 116.66287667 27.57541833, 116.66312833 27.575955, 116.66321 27.57613167, 116.66345333 27.57665333, 116.66353333 27.576825, 116.663695 27.577165, 116.66385667 27.57750333, 116.663935 27.57767167, 116.66409167 27.57800667, 116.66424 27.57834333, 116.66437833 27.578685, 116.66450667 27.579025, 116.66457 27.57919333, 116.66469167 27.57953167, 116.664805 27.57986833, 116.66491 27.58020333, 116.665005 27.58053833, 116.665125 27.58104, 116.66519333 27.58137667, 116.665225 27.58154667, 116.66530667 27.58206, 116.66535 27.582405, 116.66536667 27.58257833, 116.6654 27.582925, 116.66542667 27.58326667, 116.665435 27.58343667, 116.66544667 27.58377667, 116.66544667 27.58382465)"</span>,</div><div class="line">  <span class="string">"geometryType"</span>:<span class="string">"MLineString"</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addLine</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  Maps.addPolyline(line, &#123;</div><div class="line">    <span class="attr">layerName</span>: <span class="string">'test'</span></div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="添加多线"><a href="#添加多线" class="headerlink" title="添加多线"></a>添加多线</h3><h3 id="addPolyline-line-options-1"><a href="#addPolyline-line-options-1" class="headerlink" title="addPolyline(line, options)"></a>addPolyline(line, options)</h3><ul>
<li><p><strong>参数：</strong></p>
<ul>
<li><code>{Array} lines</code> 标准空间要素数组</li>
<li><code>{Object} options</code> 相关参数</li>
</ul>
</li>
<li><p><strong>用法：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"addLines()"</span>&gt;</span>添加多线<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> lines = [&#123;</div><div class="line">  <span class="string">"attributes"</span>:&#123;</div><div class="line">    <span class="string">"ID"</span>:<span class="string">"ecc9f2ba-f899-4adb-a86a-284d81bf2911"</span>,</div><div class="line">    <span class="string">"LXDM"</span>:<span class="string">"G35"</span>,</div><div class="line">    <span class="string">"LXMC"</span>:<span class="string">"济广高速"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"geometry"</span>:<span class="string">"LINESTRING (116.65963672 27.54180288, 116.65965167 27.54218, 116.65969833 27.542745, 116.65974 27.54312333, 116.65977167 27.54331, 116.65984 27.543685, 116.65991833 27.54406, 116.66001 27.54443, 116.66005833 27.544615, 116.66016333 27.54498333, 116.66028333 27.54534833, 116.660415 27.54571167, 116.66048504 27.54588757, 116.66048667 27.54589167, 116.66063667 27.54625, 116.66079667 27.54660333, 116.66088167 27.54678, 116.66105667 27.54712833, 116.66124333 27.54747167, 116.66143833 27.547815, 116.66166975 27.54821414, 116.661735 27.54832667, 116.66194 27.54866667, 116.66204167 27.54883833, 116.66224333 27.54918167, 116.66244333 27.549525, 116.66254167 27.54969667, 116.66281833 27.55022167, 116.66290333 27.55039833, 116.66306167 27.55075, 116.66313333 27.55092833, 116.663325 27.55145833, 116.663375 27.55163333, 116.66346833 27.55198167, 116.66351167 27.552155, 116.66360667 27.55267, 116.66363333 27.55284167, 116.66367667 27.55319, 116.6637 27.55354, 116.663705 27.553715, 116.66370333 27.55424333, 116.66368167 27.554595, 116.663645 27.55495, 116.66359333 27.55529833, 116.66353 27.555635, 116.66349167 27.5558, 116.663405 27.55612833, 116.663355 27.55629167, 116.66319167 27.55678, 116.66313167 27.55694167, 116.66299333 27.55726667, 116.66283833 27.55759167, 116.66275667 27.55775667, 116.66257833 27.558085, 116.66227833 27.55857, 116.66217 27.55873, 116.66183 27.55921333, 116.66159167 27.559535, 116.66135 27.55985667, 116.66122667 27.56001667, 116.660985 27.56034, 116.66075 27.56066833, 116.660525 27.56100167, 116.66041667 27.56117167, 116.66012 27.56168833, 116.66003 27.56186333, 116.65986 27.56221833, 116.65978167 27.56239667, 116.65963667 27.56275333, 116.65951667 27.56311167, 116.65940833 27.56347, 116.65932 27.56382833, 116.65921833 27.56436333, 116.65919333 27.56454, 116.65915333 27.56489333, 116.65912833 27.56524333, 116.65912833 27.56559333, 116.65914333 27.56594, 116.65915167 27.56611333, 116.659175 27.56645667, 116.65921833 27.56679667, 116.65927833 27.56713333, 116.65931333 27.56730167, 116.659395 27.56763333, 116.65949333 27.56797333, 116.65954833 27.56814333, 116.65966833 27.56848, 116.659875 27.56898167, 116.65995 27.56914833, 116.66017667 27.56964667, 116.66033333 27.56997667, 116.660485 27.57031, 116.66056333 27.57047833, 116.66079833 27.57098333, 116.66087833 27.57115167, 116.66103667 27.57149333, 116.661195 27.571835, 116.66135667 27.57218167, 116.66143833 27.572355, 116.661605 27.57270667, 116.66177167 27.57306, 116.66194167 27.57341833, 116.66202667 27.57359833, 116.662275 27.57414333, 116.66236333 27.574325, 116.662535 27.57469167, 116.66270667 27.57505667, 116.66287667 27.57541833, 116.66312833 27.575955, 116.66321 27.57613167, 116.66345333 27.57665333, 116.66353333 27.576825, 116.663695 27.577165, 116.66385667 27.57750333, 116.663935 27.57767167, 116.66409167 27.57800667, 116.66424 27.57834333, 116.66437833 27.578685, 116.66450667 27.579025, 116.66457 27.57919333, 116.66469167 27.57953167, 116.664805 27.57986833, 116.66491 27.58020333, 116.665005 27.58053833, 116.665125 27.58104, 116.66519333 27.58137667, 116.665225 27.58154667, 116.66530667 27.58206, 116.66535 27.582405, 116.66536667 27.58257833, 116.6654 27.582925, 116.66542667 27.58326667, 116.665435 27.58343667, 116.66544667 27.58377667, 116.66544667 27.58382465)"</span>,</div><div class="line">  <span class="string">"geometryType"</span>:<span class="string">"MLineString"</span></div><div class="line">&#125;]</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addLines</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  Maps.addPolylines(lins, &#123;</div><div class="line">    <span class="attr">layerName</span>: <span class="string">'test'</span></div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->
        <script src="/js/common.js"></script>

        <!-- search -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
        <link rel="stylesheet" href="/css/search.css">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.js"></script>
        <script>
        ['#search-query-nav', '#search-query-sidebar'].forEach(function (selector) {
          if (!document.querySelector(selector)) return
          docsearch({
            appId: '9A3A4VR36K',
            apiKey: '51ea911d21adb378084f12d4ffb79a3a',
            indexName: 'hmap-js',
            inputSelector: selector
          });
        })
        </script>

        <!-- fastclick -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
    </body>
</html>
